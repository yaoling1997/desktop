[ZJOI2011]营救皮卡丘
x:
有上下界的费用流
这道题2014WC时朱瑞讲过
但是好几个星期了也没去做
今天心血来潮找到了这道题
发现题面真是太可爱了

首先要求最短路
floyd时每个点对的路径长只能由标号小于它们俩的点转过来
若从比它大的点转，肯定已经到达了这个点，但是实际上建出来的模型是直接从比它的点转的，并且从比它大的点转不能保证比它大的点已经被经过了
很多情况下都把0作为边界，所以一旦遇到有0的数据就得仔细想想
一看就觉得像是路径覆盖，所以直接套这个模型
先拆点拆成AB两部分，然后让s向B0连容量为K-1费用0的边，
每个B点都向比它大的A点连容量为K费用为最短路的边
每个Ai(除A0)向Bi连容量为K费用0的边
每个B0向t连费用0容量k的边
然后附加源s1汇t1，s1向所有要设下界的B点连容量为1，费用为0的边
A点向t1连费用0容量1的边
最后别忘了要让t向s连+oo的边
然后先跑费用流从s1跑到t1
再从s跑到t
然后输出费用即可
这个模型转换真是太神了！流f到Bi相当于走到i点，如果流f从Bi到t代表|f|走到i就不走了。它如果走到A肯定是只能往标号更大的走，因此费用为两点间的最短路

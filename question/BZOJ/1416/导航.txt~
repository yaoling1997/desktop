[NOI2006]神奇的口袋
设a[]为一开始各个颜色的球的个数,sigma是和
首先可以得出一个结论,如果随便取的话,第s轮i的概率仍然是a[i]/sigma
证明
设某个颜色t的个数为x,其余颜色个数之和为y,可以通过取还是不取t扩展到两个状态
然后算一下可以发现概率不变
设i=xj的i为定向取球,否则为自由取球
证明若定向取球的前一轮为自由取球,则这两轮交换后不影响答案
通过计算后得证(实在不好写,列下式子就知道了)
若难想,可以先从简单的情况推起,比如设只有两中颜色,d=1什么的,然后划一下就知道了


[Noi2012]美食节
第一眼就看出来应该是网络流,但是不知道怎么构图
看了题解才发现之需要倒过来考虑厨师做的菜就行了
若厨师做A,B,C三道菜,则等待时间为3*A+2*B+C
所以倒过来考虑,厨师倒数第i道菜的等待时间为i*t
所以有一个朴素构图方法
s向每种菜连容量为p[i]费用为0的边,每个菜向每个厨师的第i道菜连容量为1费用为i*t的边,厨师的每道菜向t连容量为1费用为0的边
但是边数太大了,由于是单路增广,又由于厨师是一道一道做菜的,可以采用动态加边优化(网上是这么说的)
一开始直接向每个厨师连费用t容量1的边
每次spfa后再给对应的厨师新开节点,每个食物向他连费用为当前第几道菜*t的边
然后跑sigma P[i]次就行了
不过费用流好像会T4个点,不过BZOJ可以过

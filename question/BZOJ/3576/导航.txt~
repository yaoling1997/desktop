[Hnoi2014]江南乐
虽然是一道博弈题,但却是一道暴算SG的比较容易的博弈题
不知道多久没碰博弈了,然后考场上就跪了
显然可以把n堆石子看成是n个游戏,总的游戏的SG值就等于子游戏SG值的xor
然后就会有一个很暴力的想法,直接枚举约数,弄出一个石子堆的子局面,算出当前局面的SG,然后还可以记忆化搜索
当然,直接枚举约数显然会T,因为是n^2的(n是一堆石子的个数),但这么好拿的70分我竟然也没拿到,不知道省选的时候自己在干什么
然后由于枚举一个份数,分的局面就确定了,然后当前游戏的SG又是mex子游戏的SG,枚举约数确定子游戏的SGxor和,所以既然是xor,就要用到xor的性质
因为石子数最多的那堆石子堆的石子数顶多比最少的多一,就意味着有很多SG相同的子局面,我们只要考虑石子数少的堆数是奇数还是偶数,石子数多的堆数是奇数还是偶数就好了,而且只需要枚举两下就行了,然后就可以让石子数最大的那堆的石子数少一,接着算就行了
具体细节编着编着就知道了,不好说
最后把n堆石子的SGxor就行了

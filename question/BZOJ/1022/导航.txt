[SHOI2008]小约翰的游戏John
这道题,样例都没过就交了,而且1A(因为没有样例)
这玩意要用到一个叫做anti-nim的东西
和普通的nim的差别仅仅是取道最后一个石子的人输
然后要想让sg函数继续适用,就要稍微改一下SG定理,变成了SJ定理
SJ定理如下:
先手必胜当且仅当:
1.游戏的SG为0,且游戏中没有单一的游戏SG大于1
2.游戏的SG不为0,且游戏中某个单一游戏的SG大于1

证明可以分四种情况讨论(虽然有点繁琐,但还是说一下,加强记忆)
1.游戏的SG不为0,且游戏中某个单一游戏的SG大于1
由于SG不为0,且游戏中某个单一游戏的SG大于1
若只有一个单一游戏SG大于1,则先手在接下来的每一步必然可以把局面变成奇数个1,即当前状态为必胜态
若至少两个单一游戏SG大于1,由于先手可以将游戏的SG变为0,后继状态为至少一个单一游戏SG大于1,且游戏的SG=0
2.游戏的SG为0,且游戏中某个单一的游戏SG大于1
由于游戏的SG为0,且某个单一游戏的SG大于1,那么至少有两个单一游戏的SG大于1
修改后SG不为0
又每次最多更改一个单一游戏的SG
它所能转移到的任何一个状态都至少有一个单一游戏SG大于1,且游戏的SG不为0
有没有注意到在证明1之前要证明2,证明2之前要证明1,其中一个必胜,另一个则必败,然后显然1必胜2必败
3.游戏的SG不为0,且游戏中单一游戏的SG都不大于1
显然奇数个1为必败态
4.游戏的SG为0,且单一游戏的SG都不大于1
显然偶数个1为必胜态
然后SJ结论得证
感觉证得稀里糊涂的,论文里面差不多就是这么写的

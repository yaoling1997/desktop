由于没有开long long的原因wa了一发(本来一开始注意到了的,忘记改了)
发现把所有int改成long long也慢不了多少
建图显然
把每个月拆成两个点
s向左边那列连容量为ni,费用为-mi的弧
右边那列向t连容量为si,费用为pi的弧
对于左边那列点中的i,向右边那列点中的的j连容量+oo,费用-i*(j-i)的弧
当然要满足j>=i且j-i<=Ei
然后跑最大费用最大流
由于流量不固定,若最长路权值为负就结束
貌似不会跑出负权环

e:
浪哥推荐题
咋一看是数据结构
再一看是dp
反正想了半天想不到点上就去看题解了
题解看了半天
发现是分治+dp
这道题是离线做的
先考虑几个特例来打开思路
若没有删除操作
那么直接扫到物品就拿去更新f[]
扫到回答就输出
若只有删除操作
那么倒过来做即可
然后再来考虑怎样真正地解决这道题
正解是分治+dp
看看这个来自题解的图
图1
我们来分治
先求出s1交s2交s3.....交sn的物品
来初始化dp数组f[]
然后把它们对半分开,分别递归到两个部分
然后每个部分可以在父亲的信息基础上更新
更新就是再把sl交s2...交smid中没有在父亲的交中出现的物品拿去更新当前的状态
一直分治直到当前没有或只有一个元素
顶多分治log层
发现每个物品影响的询问区间都是一段
有点像线段树的区间查询
然后就是一些细节问题
譬如说对于同一层
要把操作时间小于当前L的操作应用了
有的细节还是要打的时候才能想清楚
那个输出格式是卖萌的

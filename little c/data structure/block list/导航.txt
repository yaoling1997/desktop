build(0)新建一个空白节点
x:
单向链表
1:插入一段数字
2:删除一段数字
3:修改一个数字
x1:
双向链表
翻转一段数字
x2:
双向链表
1:插入一段数字
2:删除一段数字
3:区间k大
用块状链表套treap加二分实现
实验证明效率极低(因为还有二分过程,所以很慢,其实直接排序常数会小一点)
x3:
双向链表
Q x y k 查询一段数字的第k小
I x y 在第x个位子的前面插入一个权值为y的数
C x y 把第x个位子的数字的值改为y
只回收了主席树的节点(主席树太耗空间了)

BZOJ: 1500 3065

一个可能有点用的优化:看split后的两个块能否与相邻块合并
每个块的大小<2*size

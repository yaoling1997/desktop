最大权闭合图

证明为什么最后的权值为所有正权值之和-流量
设一个割的值为C,s所在集合为N,t所在集合为M
C= M中所有权值为正的点+N中所有权值为负的点的绝对值(画个图就知道了,因为是那么连边的,所以点权相当于网络中的边权)
设C= x1+y1
设N的这个闭合图的权值为W
W= N中权值为正的点的权值-N中权值为负的点的权值的绝对值
W= x2-y1
W+C=x1+x2
x1为M中所有权值为正的点的权值,x2为N中权值为正的点的权值
x1+x2=所有权值为正的点的权值(记为T)
则W+C=T
W=T-C
要使W最大,则C为最小割的值
最小割=最大流,所以就是T-maxflow了

BZOJ: 1497 1565
